<!doctype html>
<html lang="mn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>–°–∞—Ä –®–∏–Ω–∏–π–Ω –ú—ç–Ω–¥ üåï</title>

<style>
  :root{
    --wine:#7a1845;
    --gold:#caa24a;
    --cream:#fff6e5;
    --pink:#ffd6ec;
  }

  body{
    margin:0;
    min-height:100vh;
    display:grid;
    place-items:center;
    font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color:#2a2a2a;
    overflow:hidden;
    background:
      radial-gradient(1200px 700px at 30% 10%, rgba(255,255,255,.85), rgba(255,255,255,0) 60%),
      linear-gradient(135deg, var(--cream), var(--pink));
  }

  /* Traditional pattern overlay */
  body::before{
    content:"";
    position:fixed;
    inset:-20px;
    pointer-events:none;
    opacity:.18;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220' viewBox='0 0 220 220'%3E%3Cdefs%3E%3Cpattern id='p' width='220' height='220' patternUnits='userSpaceOnUse'%3E%3Cpath d='M110 18c20 0 36 16 36 36s-16 36-36 36-36-16-36-36 16-36 36-36zm0 16c-11 0-20 9-20 20s9 20 20 20 20-9 20-20-9-20-20-20z' fill='none' stroke='%237a1845' stroke-width='3' opacity='.9'/%3E%3Cpath d='M18 110c0-20 16-36 36-36s36 16 36 36-16 36-36 36-36-16-36-36zm16 0c0 11 9 20 20 20s20-9 20-20-9-20-20-20-20 9-20 20z' fill='none' stroke='%23caa24a' stroke-width='3' opacity='.9'/%3E%3Cpath d='M110 202c-20 0-36-16-36-36s16-36 36-36 36 16 36 36-16 36-36 36zm0-16c11 0 20-9 20-20s-9-20-20-20-20 9-20 20 9 20 20 20z' fill='none' stroke='%237a1845' stroke-width='3' opacity='.9'/%3E%3Cpath d='M202 110c0 20-16 36-36 36s-36-16-36-36 16-36 36-36 36 16 36 36zm-16 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z' fill='none' stroke='%23caa24a' stroke-width='3' opacity='.9'/%3E%3Cpath d='M110 70v80M70 110h80' stroke='%237a1845' stroke-width='2' opacity='.35'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23p)'/%3E%3C/svg%3E");
    filter: blur(.2px);
  }

  /* Soft glowing moon */
  .moon{
    position:fixed;
    right:6vw;
    top:7vh;
    width:140px;
    height:140px;
    border-radius:999px;
    background: radial-gradient(circle at 30% 30%, #fff, #fff2c8 55%, rgba(255,242,200,.1) 75%);
    box-shadow:
      0 0 0 10px rgba(255,255,255,.08),
      0 0 50px rgba(255,255,255,.35),
      0 0 120px rgba(255,242,200,.25);
    opacity:.85;
    animation: moonFloat 6s ease-in-out infinite;
    pointer-events:none;
  }
  @keyframes moonFloat{
    0%,100%{ transform:translateY(0) }
    50%{ transform:translateY(-10px) }
  }

  .card{
    width:min(640px, 92vw);
    padding:30px;
    border-radius:26px;
    text-align:center;
    background:rgba(255,255,255,.78);
    backdrop-filter: blur(10px);
    box-shadow:0 22px 70px rgba(0,0,0,.16);
    position:relative;
    overflow:hidden;
    animation: popIn .6s ease;
  }
  @keyframes popIn{
    from{opacity:0; transform:translateY(16px) scale(.98)}
    to{opacity:1; transform:translateY(0) scale(1)}
  }

  .hidden{ display:none; }

  .badge{
    display:inline-flex;
    gap:10px;
    align-items:center;
    justify-content:center;
    padding:8px 12px;
    border-radius:999px;
    background:rgba(122,24,69,.08);
    color:var(--wine);
    font-weight:800;
    font-size:12px;
    letter-spacing:.2px;
    margin-bottom:10px;
  }

  h1{
    margin: 6px 0 10px;
    color:var(--wine);
    font-weight: 1000;
    font-size: clamp(24px, 4.8vw, 38px);
    line-height:1.1;
    text-shadow:0 2px 0 rgba(255,255,255,.8);
  }

  .sub{
    color: rgba(0,0,0,.70);
    font-size: 15px;
    line-height: 1.6;
    margin: 0 auto 14px;
    max-width: 540px;
  }

  .hr{
    height:1px;
    background: linear-gradient(90deg, transparent, rgba(122,24,69,.35), transparent);
    margin: 14px 0;
  }

  .btnRow{
    display:flex;
    gap:12px;
    justify-content:center;
    flex-wrap:wrap;
    margin-top:14px;
  }

  button{
    border:0;
    padding:14px 18px;
    border-radius:16px;
    font-weight:900;
    font-size:15px;
    cursor:pointer;
    box-shadow:0 10px 18px rgba(0,0,0,.16);
    transition:.2s;
  }
  button:hover{ transform:translateY(-1px) }
  button:active{ transform:translateY(0px) scale(.99) }

  .primary{
    background: linear-gradient(135deg, var(--wine), #b4004e);
    color:#fff;
  }
  .ghost{
    background: rgba(0,0,0,.06);
    color:#1f1f1f;
  }

  .note{
    margin-top:12px;
    color: rgba(0,0,0,.55);
    font-size: 13px;
  }

  /* Music control pill */
  .pill{
    position:absolute;
    top:16px;
    right:16px;
    display:flex;
    gap:8px;
    align-items:center;
    padding:8px 10px;
    border-radius:999px;
    background: rgba(255,255,255,.75);
    border: 1px solid rgba(0,0,0,.06);
    box-shadow:0 8px 18px rgba(0,0,0,.10);
    font-size:12px;
    color: rgba(0,0,0,.72);
  }
  .toggle{
    width:44px;
    height:24px;
    background: rgba(122,24,69,.18);
    border-radius:999px;
    position:relative;
    cursor:pointer;
  }
  .knob{
    width:18px;
    height:18px;
    background:#fff;
    border-radius:999px;
    position:absolute;
    top:3px;
    left:3px;
    transition:.2s;
    box-shadow:0 4px 10px rgba(0,0,0,.18);
  }
  .toggle.on{ background: rgba(46,204,113,.22) }
  .toggle.on .knob{ left:23px }

  /* Traditional red seal (tamga) */
  .seal{
    position:absolute;
    left:16px;
    top:16px;
    width:82px;
    height:82px;
    border-radius:999px;
    background:
      radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,0) 45%),
      radial-gradient(circle at 60% 70%, rgba(0,0,0,.12), rgba(0,0,0,0) 55%),
      linear-gradient(135deg, #b3002d, #ff2e5f);
    box-shadow: 0 14px 26px rgba(0,0,0,.18);
    transform: rotate(-10deg);
    display:grid;
    place-items:center;
    overflow:hidden;
  }
  .seal::before{
    content:"";
    position:absolute;
    inset:10px;
    border-radius:999px;
    border:2px dashed rgba(255,255,255,.65);
    opacity:.7;
  }
  .sealText{
    font-weight:1000;
    color:#fff;
    font-size:13px;
    line-height:1.1;
    text-align:center;
    text-shadow:0 2px 10px rgba(0,0,0,.25);
  }
  .sealSmall{
    font-weight:900;
    font-size:10px;
    opacity:.9;
    display:block;
    margin-top:4px;
  }

  /* Floating petals */
  #petals{ position:fixed; inset:0; pointer-events:none; }
  .petal{
    position:absolute;
    top:-10vh;
    animation: fall linear forwards;
    opacity:.95;
    filter: drop-shadow(0 8px 10px rgba(0,0,0,.08));
  }
  @keyframes fall{
    to{
      transform: translate(var(--dx), 115vh) rotate(var(--rot));
      opacity: 1;
    }
  }

  /* Confetti dots */
  #confetti{ position:fixed; inset:0; pointer-events:none; }
  .dot{
    position:absolute;
    width:8px; height:8px;
    border-radius:999px;
    background: var(--c);
    transform: translate(0,0);
    animation: pop 900ms ease-out forwards;
    opacity:.95;
  }
  @keyframes pop{
    to{
      transform: translate(var(--dx), var(--dy)) rotate(180deg);
      opacity:0;
    }
  }
</style>
</head>

<body>
  <div class="moon"></div>
  <div id="petals"></div>
  <div id="confetti"></div>

  <!-- START -->
  <div class="card" id="startScreen">
    <div class="seal" title="–£–ª–∞–º–∂–ª–∞–ª—Ç —Ç–∞–º–≥–∞">
      <div class="sealText">
        –°–ê–†<br>–®–ò–ù–≠
        <span class="sealSmall">2026</span>
      </div>
    </div>

    <div class="pill">
      <span>üéµ –ê—è</span>
      <div class="toggle on" id="musicToggle">
        <div class="knob"></div>
      </div>
    </div>

    <div class="badge">üêé –¶–∞–≥–∞–∞–Ω —Å–∞—Ä—ã–Ω –º—ç–Ω–¥ —Ö“Ø—Ä–≥—ç–µ</div>
    <h1>üåï –ù—ç–≥ —É–¥–∞–∞ –¥–∞—Ä–∂ —ç—Ö–ª“Ø“Ø–ª—ç—ç—Ä—ç–π</h1>

    <div class="sub">
      iPhone/iPad –¥—ç—ç—Ä –¥—É—É <b>—ç—Ö–Ω–∏–π —Ç–æ–≤—à–∏–ª—Ç—ã–Ω</b> –¥–∞—Ä–∞–∞ –ª –∞—Å–¥–∞–≥. <br>
      ‚Äú–≠—Ö–ª—ç—Ö‚Äù –¥—ç—ç—Ä –¥–∞—Ä–º–∞–≥—Ü –¥—É—É –∑”©”©–ª”©–Ω –∞—Å–∞–∞–¥, –º—ç–Ω–¥—á–∏–ª–≥—ç—ç + –µ—Ä”©”©–ª random-–æ–æ—Ä –≥–∞—Ä–Ω–∞ ‚ú®
    </div>

    <div class="btnRow">
      <button class="primary" id="startBtn">–≠—Ö–ª—ç—Ö üé∂</button>
      <button class="ghost" id="previewBtn">–£—Ä—å–¥—á–∏–ª–∂ —Ö–∞—Ä–∞—Ö üëÄ</button>
    </div>

    <div class="note">–õ–∏–Ω–∫—ç—ç –ø–µ—Ä—Å–æ–Ω–∞–ª –±–æ–ª–≥–æ—Ö: <b>?name=DeKa</b></div>
  </div>

  <!-- GREETING -->
  <div class="card hidden" id="greetScreen">
    <div class="seal" title="–£–ª–∞–º–∂–ª–∞–ª—Ç —Ç–∞–º–≥–∞">
      <div class="sealText">
        –ï–†”®”®–õ
        <span class="sealSmall">üíÆ</span>
      </div>
    </div>

    <div class="pill">
      <span id="musicLabel">üéµ –ê—è: –ê—Å—Å–∞–Ω</span>
      <div class="toggle on" id="musicToggle2">
        <div class="knob"></div>
      </div>
    </div>

    <div class="badge">üíÆ –ï—Ä”©”©–ª ‚Ä¢ –ë—ç–ª–≥—ç</div>
    <h1 id="titleText">–¶–∞–≥–∞–∞–Ω —Å–∞—Ä—ã–Ω –º—ç–Ω–¥ üåï</h1>

    <div class="sub" id="greetingText"></div>

    <div class="hr"></div>

    <div class="btnRow">
      <button class="primary" id="nextBtn">–î–∞—Ä–∞–∞–≥–∏–π–Ω –µ—Ä”©”©–ª üéä</button>
      <button class="ghost" id="backBtn">–ë—É—Ü–∞—Ö</button>
    </div>

    <div class="note">üíó River Flows In You ‚Üí <b>music.mp3</b></div>
  </div>

  <!-- Background Music -->
  <audio id="bgm" src="music.mp3" preload="auto" loop></audio>

<script>
  const startScreen = document.getElementById("startScreen");
  const greetScreen = document.getElementById("greetScreen");

  const startBtn = document.getElementById("startBtn");
  const previewBtn = document.getElementById("previewBtn");
  const nextBtn = document.getElementById("nextBtn");
  const backBtn = document.getElementById("backBtn");

  const bgm = document.getElementById("bgm");

  const musicToggle = document.getElementById("musicToggle");
  const musicToggle2 = document.getElementById("musicToggle2");

  const musicLabel = document.getElementById("musicLabel");

  const petalsLayer = document.getElementById("petals");
  const confettiLayer = document.getElementById("confetti");

  const titleText = document.getElementById("titleText");
  const greetingText = document.getElementById("greetingText");

  // ===== Personalize by ?name=
  function qp(k){ return new URLSearchParams(location.search).get(k); }
  const personName = ((qp("name")||"").trim() || "–ù–∞–π–∑ –º–∏–Ω—å");
  titleText.textContent = `–¶–∞–≥–∞–∞–Ω —Å–∞—Ä—ã–Ω –º—ç–Ω–¥, ${personName}! üåï`;

  // ===== Random blessings (–µ—Ä”©”©–ª) =====
  const BLESSINGS = [
`–≠–ª–≥—ç—ç—Ä—ç—ç —ç–Ω—Ö –∞–º–≥–∞–ª–∞–Ω,
–¢”©—Ä–ª”©”©—Ä”©”© —Ç”©–≤—à–∏–Ω –∞–º–≥–∞–ª–∞–Ω,
–ê–∑ —Ö–∏–π–º–æ—Ä—å –¥“Ø“Ø—Ä—ç–Ω,
–ê–º–∞—Ä –∞–º–≥–∞–ª–∞–Ω —à–∏–Ω—ç–ª—ç—ç—Ä—ç–π üôè`,

`–ò—Ä–∂ –±—É–π —à–∏–Ω—ç –æ–Ω–¥–æ–æ
–≠—Ä“Ø“Ø–ª —ç–Ω—Ö, —ç–ª–±—ç–≥ —Ö–∞–Ω–≥–∞–ª—É—É–Ω,
”®”©–¥–ª”©–Ω –¥—ç–≤–∂–∏–∂,
”®—Ä–≥”©”© –≥—ç—Ä —Ç–∞–Ω—å –∏–Ω—ç—ç–¥ —Ö”©”©—Ä”©”©—Ä –¥“Ø“Ø—Ä—ç–Ω –±–∞–π—Ö –±–æ–ª—Ç—É–≥–∞–π ‚ú®`,

`”®–≤–≥”©–¥ –¥—ç—ç–¥—Å–∏–π–Ω –±—É—è–Ω –∑–∞—è–∞ —Ç“Ø—à–∏–∂,
”®—Ä—Ö –≥—ç—Ä —Ç–∞–Ω—å ”©”©–¥”©”©,
“Æ–π–ª—Å –±“Ø—Ö—ç–Ω —Ç–∞–Ω—å –±“Ø—Ç—ç–º–∂—Ç—ç–π,
”®–¥—Ä–∏–π–Ω –Ω–∞—Ä —à–∏–≥ –≥—ç–≥—ç—ç–ª—ç–≥ —à–∏–Ω—ç–ª—ç—ç—Ä—ç–π üåû`,

`–ê–ª—Ç–∞–Ω —à–∞—Ä –∑–∞–º —Ç–∞–Ω—å ”©–ª–∑–∏–π—Ç—ç–π,
–ê–º—å–¥—Ä–∞–ª—ã–Ω –±–∞—è—Ä –∂–∞—Ä–≥–∞–ª —Ç–∞–Ω—å –∞—Ä–≤–∏–Ω,
–ê–∂–∏–ª “Ø–π–ª—Å —Ç–∞–Ω—å –∞–º–∂–∏–ª—Ç–∞–∞—Ä –±—è–ª—Ö–∞—Ö –±–æ–ª—Ç—É–≥–∞–π üíÆ`,

`–°—ç—Ç–≥—ç–ª ”©”©–¥—Ä”©–≥, —Å–∞–Ω–∞–∞ –∞–º–∞—Ä,
–≠—Ä“Ø“Ø–ª —Å–∞—Ä—É—É–ª, —ç–ª–±—ç–≥ —Ö–∞–Ω–≥–∞–ª—É—É–Ω,
”®–Ω”©–¥ —Ç—ç–≥—à –∞–º–≥–∞–ª–∞–Ω —à–∏–Ω—ç–ª—ç—ç—Ä—ç–π üåï`
  ];

  function pickRandomBlessing(){
    const i = Math.floor(Math.random() * BLESSINGS.length);
    return BLESSINGS[i];
  }

  function renderBlessing(){
    greetingText.innerHTML = pickRandomBlessing().replaceAll("\n","<br>");
  }

  // ===== Music (autoplay safe) =====
  let musicStarted = false;
  let musicOn = true;

  function setToggleUI(on){
    [musicToggle, musicToggle2].forEach(t=>{
      if(!t) return;
      t.classList.toggle("on", on);
    });
    if(musicLabel) musicLabel.textContent = on ? "üéµ –ê—è: –ê—Å—Å–∞–Ω" : "üîá –ê—è: –£–Ω—Ç–∞—Ä—Å–∞–Ω";
  }

  async function startMusicSoft(){
    if(!musicOn) return;
    if(musicStarted) return;

    try{
      bgm.volume = 0.0;
      await bgm.play();
      musicStarted = true;

      let v = 0;
      const t = setInterval(()=>{
        v += 0.03;
        bgm.volume = Math.min(v, 0.32);
        if(bgm.volume >= 0.32) clearInterval(t);
      }, 120);
    }catch(e){
      musicStarted = false;
    }
  }

  function toggleMusic(){
    musicOn = !musicOn;
    setToggleUI(musicOn);

    if(!musicOn){
      bgm.pause();
      musicStarted = false;
    }else{
      startMusicSoft();
    }
  }

  [musicToggle, musicToggle2].forEach(t=>{
    if(!t) return;
    t.addEventListener("click", toggleMusic);
  });

  window.addEventListener("pointerdown", startMusicSoft, { once:false });
  window.addEventListener("touchstart", startMusicSoft, { passive:true });

  // ===== Petals =====
  const petalChars = ["üå∏","üíÆ","üå∫","‚ú®"];
  function spawnPetal(){
    const p = document.createElement("div");
    p.className = "petal";
    p.textContent = petalChars[Math.floor(Math.random()*petalChars.length)];
    const left = Math.random()*100;
    const size = 14 + Math.random()*18;
    const dur = 5 + Math.random()*5;
    const dx = (-40 + Math.random()*80) + "px";
    const rot = (-180 + Math.random()*360) + "deg";

    p.style.left = left + "vw";
    p.style.fontSize = size + "px";
    p.style.setProperty("--dx", dx);
    p.style.setProperty("--rot", rot);
    p.style.animationDuration = dur + "s";

    petalsLayer.appendChild(p);
    setTimeout(()=>p.remove(), (dur+0.5)*1000);
  }
  setInterval(spawnPetal, 380);

  // ===== Confetti burst =====
  function burst(){
    const colors = ["#7a1845","#caa24a","#ff5aa5","#2ecc71","#ffb703"];
    for(let i=0;i<90;i++){
      const d = document.createElement("div");
      d.className = "dot";
      const x = 50 + (Math.random()*10-5);
      const y = 55 + (Math.random()*10-5);
      d.style.left = x + "vw";
      d.style.top = y + "vh";
      d.style.setProperty("--c", colors[Math.floor(Math.random()*colors.length)]);
      d.style.setProperty("--dx", (-280 + Math.random()*560) + "px");
      d.style.setProperty("--dy", (-260 + Math.random()*420) + "px");
      confettiLayer.appendChild(d);
      setTimeout(()=>d.remove(), 1000);
    }
  }

  function show(screen){
    [startScreen, greetScreen].forEach(s=>s.classList.add("hidden"));
    screen.classList.remove("hidden");
  }

  // ===== Buttons =====
  startBtn.addEventListener("click", async ()=>{
    await startMusicSoft();
    renderBlessing();
    show(greetScreen);
    burst();
  });

  previewBtn.addEventListener("click", ()=>{
    renderBlessing();
    show(greetScreen);
  });

  backBtn.addEventListener("click", ()=>{
    show(startScreen);
  });

  nextBtn.addEventListener("click", ()=>{
    renderBlessing();
    burst();
  });

  // initial
  setToggleUI(true);
  renderBlessing(); // (preview –¥—ç—ç—Ä —à—É—É–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞)
</script>

</body>
</html>
